/* Built on 2017-12-20 09:27:36 */
!function(){var e=function(e,n,o){var t=document.getElementById("header-mobile-"+e+"-toggle");if(t){var d=!1,i=document.getElementById(n.id);n.toggle=function(s){if(void 0===s||s!==d){if(d)xv.dom.addClass(i,"mobile-hide"),xv.dom.removeClass(t,n.icon_cls);else{"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.header&&"function"==typeof window.xv.header.close_mobile_menu&&window.xv.header.close_mobile_menu();for(var a in o)a!==e&&o[a].toggle&&o[a].toggle(!1);xv.dom.removeClass(i,"mobile-hide"),window.jQuery&&$(i).find("input[type=text]").first().focus(),xv.dom.addClass(t,n.icon_cls),xv.dom.scrollToTop()}d=!d}},window.xv.mobile.togglers.push(n),t.onclick=function(e){return e||(e=this.originalEvent),e&&("function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1),n.toggle(),!1}}},n={togglers:new Array,menus_init:function(n){for(var o in n)e(o,n[o],n)},menus_close:function(){if(!1!==window.xv.mobile.togglers)for(var e in window.xv.mobile.togglers)window.xv.mobile.togglers[e].toggle(!1)}};window.xv||(window.xv={}),window.xv.mobile=n}(),function(){var e=document.getElementById("x-messages");if(e){var n=document.getElementById("x-messages-btn");if(!n){var o,t=document.getElementById("mobile-messages-btn"),d=document.getElementById("desktop-messages-btn"),i=xv.dom.getFirstChild(e),s=xv.dom.getChildren(i),a={},r="none"!==e.style.display;t&&(o=xv.dom.getFirstChild(t)),r&&(t&&xv.dom.addClass(o,"opened"),xv.dom.addClass(d,"opened"));var l=function(e,n){a[e]=n||1296e6,t&&(xv.dom.removeClass(t,"hidden"),xv.dom.addClass(t,"mobile-show"),xv.dom.addClass(d,"mobile-hide")),xv.dom.removeClass(d,"hidden")},m=function(n){if("boolean"!=typeof n&&(n=!r),n!==r){if(n)e.style.display="block",t&&xv.dom.addClass(o,"opened"),xv.dom.addClass(d,"opened");else{e.style.display="none",t&&xv.dom.removeClass(o,"opened"),xv.dom.removeClass(d,"opened");var i=[],s=0,l=Math.round((new Date).getTime()/1e3);for(var m in a)i.push(m+":"+(l+parseInt(a[m]))),s=Math.max(0,a[m]);xv.cookies.setLocal("hide_xmsg",i.join(","),1e3*s,"/")}r=n}};for(var v in s)if(!(v<2)){var u=s[v];l(u.getAttribute("data-hash"),u.getAttribute("data-expires"))}return s[1].onclick=m,t&&(o.onclick=m),void(d.onclick=m)}var i=xv.dom.getFirstChild(e),s=xv.dom.getChildren(i),a={},r=xv.dom.hasClass(e,"opened");r&&xv.dom.addClass(n,"opened"),xv.conf&&xv.conf.dyn&&xv.conf.dyn.chat&&xv.conf.dyn.chat.enabled&&(xv.dom.addClass(e,"chat-window-side"),xv.dom.addClass(n,"chat-window-side"));var l=function(e,o){a[e]=o||1296e3,xv.dom.removeClass(n,"hidden")},m=function(o){if("object"==typeof o&&("function"==typeof o.preventDefault?o.preventDefault():o.returnValue=!1),"boolean"!=typeof o&&(o=!r),o!==r){if(o)xv.dom.addClass(e,"opened"),xv.dom.addClass(n,"opened");else{xv.dom.removeClass(e,"opened"),xv.dom.removeClass(n,"opened");var t=[],d=0,i=Math.round((new Date).getTime()/1e3);for(var s in a)t.push(s+":"+(i+parseInt(a[s]))),d=Math.max(0,a[s]);xv.cookies.setLocal("hide_xmsg",t.join(","),1e3*d,"/")}r=o}};for(var v in s){var u=s[v];xv.dom.hasClass(u,"x-message")&&l(u.getAttribute("data-hash"),u.getAttribute("data-expires"))}xv.dom.addEventListener(s[1],"click",m),xv.dom.addEventListener(n,"click",m)}}(),function(){var e={};e.menu={id:"mobile-menu",icon_cls:"vertical"},e.filters={id:"mobile-filters-menu",icon_cls:"opened"},e.search={id:"xv-search-form",icon_cls:"close"},xv.mobile.menus_init(e);var n=document.getElementById("nav");if(n){var o,t,d,i,s,a=document.getElementById("header-menu-toggle"),r=xv.dom.hasClass(n,"forced-opened"),l={},m=document.getElementById("main-cat-sub-list-btn"),v=document.getElementById("home-trends-sub-list-btn"),u=!1,f=0,c=0,x=!1,p=!1,h=!1,b=!1,g=!1,y=!1,_=!1,w=!1,C=function(e){if(t&&"desktop"!==e){d=!0,"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.mobile&&"function"==typeof window.xv.mobile.menus_close&&window.xv.mobile.menus_close();var n=!0;for(var o in l)!0===l[o].is_opened&&(n=!1);!0===n&&(l[u].is_opened=!0)}else r=!0;"undefined"!=typeof xv.header&&"undefined"!=typeof xv.header.trends&&"function"==typeof xv.header.trends.position&&xv.header.trends.position(),T()},E=function(e){!1===l[e].initiated&&(l[e].initiated="processing",l[e].list&&l[e].btn?xv.dom.addEventListener(l[e].btn,"click",function(n){k(e)}):l[e].disabled=!0,l[e].initiated=!0)},I=function(){for(var e in l)E(e)},k=function(e){for(var n in l)l[n].is_opened=!1;l[e].is_opened=!0,T()},B=function(e){if(t){d=!1;for(var n in l)l[n].is_opened=!1}else!0!==e&&(r=!1);T()},T=function(){if(window.jQuery)if(t){var e=$(".home-trends #home-trends-sub-list-btn");e.length>0&&e.parent("li").insertAfter($("#main-cat-sub-list-btn").parent("li"))}else{var e=$(".main-categories #home-trends-sub-list-btn");e.length>0&&$(".home-trends > ul").prepend(e.parent("li"))}xv.header.is_menu_opened()?(xv.dom.addClass(n,"opened"),xv.dom.addClass(a,"opened"),t||"undefined"==typeof xv||"undefined"==typeof xv.header?xv.dom.addClass(document.body,"mobile-menu-opened"):("undefined"!=typeof xv.header.categories&&"function"==typeof xv.header.categories.position&&setTimeout(xv.header.categories.position,150),"undefined"!=typeof xv.header.trends&&"function"==typeof xv.header.trends.position&&setTimeout(xv.header.trends.position,150))):(xv.dom.removeClass(n,"opened forced-opened"),xv.dom.removeClass(a,"opened"),xv.dom.removeClass(document.body,"mobile-menu-opened"));for(var o in l)!0!==l[o].disabled&&(l[o].is_opened?(xv.dom.addClass(l[o].btn,"opened"),xv.dom.addClass(l[o].list,"opened")):(xv.dom.removeClass(l[o].btn,"opened"),xv.dom.removeClass(l[o].list,"opened")))},A=function(e,n){x=!1,c=(new Date).getTime();var d=xv.dom.getViewportWidth();if(s!==d||!0===n){s=d,!1!==h&&!1!==p&&!1!==g&&!1!==b||(p=document.getElementById("header").getElementsByTagName("svg")[0],h=document.getElementById("site-logo"),b=p.getAttribute("width"),g=p.getAttribute("height"));var a=!1,r=!1,l=0;s<b/.3?(r=Math.ceil(.3*s),a=Math.ceil(g*r/b*100)/100,l=Math.ceil((g-a)/2)):y===b&&_===g||(r=b,a=g),!1!==r&&!1!==a&&(y=r,_=a,p.setAttribute("width",r),p.setAttribute("height",a),p.style.marginTop=l+"px",h.setAttribute("width",r),h.setAttribute("height",a)),o=s<768,t=o||w,!1===e||"boolean"==typeof i&&i===t||(i=t,T())}},D=function(){var e=(new Date).getTime();!1===x&&(e-c>250?A():x=setTimeout(A,1e3))};xv||(xv={}),xv.header||(xv.header={}),xv.header.is_mobile=function(e){return!1!==e&&A(!1),o},xv.header.is_mobile_menu=function(e){return!1!==e&&A(!1),t},xv.header.set_force_mobile_menu=function(e){"boolean"==typeof e&&w!==e&&(w=e,A(!0,!0))},xv.header.is_menu_opened=function(){return A(!1),!t&&r||t&&d},xv.header.is_sub_menu_opened=function(e){return!(!xv.header.is_menu_opened()||"undefined"==typeof l[e]||!l[e].is_opened)},xv.header.add_sub_menu=function(e,n,o,t,d){if(e&&n){var i={btn:e,list:n,is_opened:!1,disabled:!1,initiated:!1};return f++,void 0!==o&&o||(o="sub_menu_"+f),l[o]=i,!1!==u&&!0!==d||(u=o),!0!==t&&I(),o}},xv.header.update_sub_menu_btn=function(e,n){"undefined"!=typeof l[e]&&n&&(l[e].btn=n,xv.dom.addEventListener(l[e].btn,"click",function(n){k(e)}))},xv.header.update_sub_menu_list=function(e,n){"undefined"!=typeof l[e]&&n&&(l[e].list=n)},xv.header.open_sub_menu=function(e){if(!t)return!1;C("mobile"),k(e),"undefined"!=typeof window.xv&&"undefined"!=typeof window.xv.dom&&"function"==typeof window.xv.dom.scrollToTop&&window.xv.dom.scrollToTop()},xv.header.close_mobile_menu=function(){B(!0)},m&&xv.header.add_sub_menu(m,document.getElementById("main-cat-sub-list"),"main_cat",!0),v&&xv.header.add_sub_menu(v,document.getElementById("home-trends-sub-list"),"home_trends",!0),I(),A(),xv.dom.addEventListener(window,"resize",D),xv.dom.addEventListener(a,"click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,(t?d:r)?B():C()}),xv.dom.addClass(a,"init-ok")}}();